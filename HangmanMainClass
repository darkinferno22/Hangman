import static java.lang.Integer.parseInt;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Random;
import java.util.Scanner;
import java.util.logging.Level;
import java.util.logging.Logger;

import javax.swing.JOptionPane;

public class HangmanMainClass {
    
    public static void main(String[] args) {
    	runGame();
    }
    //Method for turning any string into an array of its individual characters
    public static String[] splitString(String s){
        return s.split("");
    }
    public static void runGame(){
    	Random rand = new Random();
    	int lettersRemaining = 0;
        int correct = 0;
        int choice = -1;      //ArrayList lets us modify the array much easier than a normal array would using methods like add(Element E) and remove(int index, or remove(Element E)
        //ArrayList of random words
        String[] words = {"banana", "grapes", "grape", "atmosphere", "stratosphere", "github", "anus", "camp", 
        "bananahammock", "syndrome", "incredible", "inedible", "california", "wyoming", "cat", "dog", "lovely", "eatery", "restaurant", "uncalled", "asshole", "faggot", "jared", "yunus", "nick", "computer", "united", "arab", "emirates"}; 
        ArrayList<String> answerList = new ArrayList<String>();
        ArrayList<String> correctLetters = new ArrayList<String>();
        ArrayList<String> incorrectLetters = new ArrayList<String>();
        ArrayList<String> randomWords = new ArrayList<String>();
        randomWords.add("rhino");
        randomWords.add("retarded");
        for(String word: words){
        	randomWords.add(word);
        }
        String answer;
        //Array to keep track of which letters you have guessed
        String[] lettersGuessed = new String[26/*Number of letters in the alphabet*/];
        //Sets answerArray to empty values, avoids NullPointerException
        chooseWord:
        for(int i = 0; i < lettersGuessed.length; i++){
        	lettersGuessed[i] = "";
        }
		Scanner scan = new Scanner(System.in);
		
        choice = parseInt(JOptionPane.showInputDialog("Would you like to: \n[1]Enter your own word\n[2]Have a random word selected for you"));
        switch(choice){
            case 1:
                answer = JOptionPane.showInputDialog("Enter the word to guess:");
                break;
            default:
                answer = (String) randomWords.toArray()[rand.nextInt(randomWords.size())];
                break;
        }
        //Split word into individual letters
        ArrayList<String> answerArray = new ArrayList();
        for(String str: splitString(answer)){
        	if(!str.equals("")){
        		answerArray.add(str);
        	}
        };
        for(String let: answerArray){
            correctLetters.add(let);
            answerList.add("_");
            lettersRemaining++;
        }
        JOptionPane.showMessageDialog(null, "Length of answer: " + answerArray.size());
        JOptionPane.showMessageDialog(null, "You have 7 chances!");
        guessLoop: //Used for restarting if guess is not one letter
        while(true){            
            String guess = JOptionPane.showInputDialog("Which letter do you guess?");
            //Checks if you have already guessed the letter
            for(String let: lettersGuessed){
            	if(guess.equals(let)){
            		JOptionPane.showMessageDialog(null, "You have already guessed that letter! Try again faggot.");
            		continue guessLoop;
            	}
            };
            //Checks if guess is exactly one letter, if not forces you to try again
            if(guess.length() != 1){
                JOptionPane.showMessageDialog(null, "One letter please!");
                continue guessLoop;
            }
            //Checks each letter in the answer to see if it matches your guess
            for(int i = 0; i < answerArray.size(); i++){
                if(answerArray.toArray()[i].equals(guess)){
                    correct++;//Checks number of letters in word
                    answerList.set(i, guess);
                }
            };
            String wordWithUnderscores = "";
            for(Object let: answerList){
                wordWithUnderscores += (let);
            }
            JOptionPane.showMessageDialog(null, wordWithUnderscores);
            for(int i = 0; i < lettersGuessed.length; i++){
                if(lettersGuessed[i].equals("")){
                    lettersGuessed[i] = guess;
                    break;
                }
            }
            if(correct == 0){
                JOptionPane.showMessageDialog(null, "There are none of your letter in the word.");
                incorrectLetters.add(guess);
            }
            else if(correct == 1){
                JOptionPane.showMessageDialog(null, "There is 1 " + guess + " in the word.");
            }
            else{
                JOptionPane.showMessageDialog(null, "There are " + correct + " " + guess + "'s in the word.");
            }
            lettersRemaining -= correct;
            if(lettersRemaining == 0){
            	int winChoice = parseInt(JOptionPane.showInputDialog("You win!\n[1] Play again\n[2] Quit"));
            	if(winChoice == 1){
            		runGame();
            	}
            	else{
            		System.exit(-1);
            	}
            }
            else{
            	JOptionPane.showMessageDialog(null, "Letters remaining: " + lettersRemaining);
            }
            guess = "";
            correct = 0;
            String letters = "";
            for(String value: lettersGuessed){
            	letters += (value + " ");
            }
            JOptionPane.showMessageDialog(null, "Letters guessed: " + letters);
            letters = "";
            for(Object value: incorrectLetters.toArray()){
            	letters += (value + " ");
            }
            JOptionPane.showMessageDialog(null, "Incorrect letters: " + letters);
            letters = "";
            if(7 - incorrectLetters.size() > 0){
                JOptionPane.showMessageDialog(null, "Chances Left: " + (7 - incorrectLetters.size()));
            }
            else{
                JOptionPane.showMessageDialog(null, "Ye be a loser and ye have lost. Faggot.");
                int winChoice = parseInt(JOptionPane.showInputDialog("[1] Play Again\n[2] Quit"));
            	if(winChoice == 1){
            		runGame();
            	}
            	else{
            		System.exit(-1);
            	}
            }
        }
    }
}
